<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Subsetting of safeframe objects — [.safeframe • safeframe</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Subsetting of safeframe objects — [.safeframe"><meta name="description" content="The [] and [[]] operators for safeframe objects behaves like for
regular data.frame or tibble, but check that labelled variables are not
lost, and takes the appropriate action if this is the case (warning, error,
or ignore, depending on the general option set via lost_labels_action()) ."><meta property="og:description" content="The [] and [[]] operators for safeframe objects behaves like for
regular data.frame or tibble, but check that labelled variables are not
lost, and takes the appropriate action if this is the case (warning, error,
or ignore, depending on the general option set via lost_labels_action()) ."><meta property="og:image" content="https://epiverse-trace.github.io/safeframe/logo.svg"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">safeframe</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/compat-dplyr.html">Compatibility with dplyr</a></li>
    <li><a class="dropdown-item" href="../articles/design-principles.html">Design Principles for {safeframe}</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiverse-trace/safeframe/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Subsetting of safeframe objects</h1>
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/safeframe/blob/main/R/square_bracket.R" class="external-link"><code>R/square_bracket.R</code></a></small>
      <div class="d-none name"><code>sub_safeframe.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>[]</code> and <code>[[]]</code> operators for <code>safeframe</code> objects behaves like for
regular <code>data.frame</code> or <code>tibble</code>, but check that labelled variables are not
lost, and takes the appropriate action if this is the case (warning, error,
or ignore, depending on the general option set via <code><a href="lost_labels_action.html">lost_labels_action()</a></code>) .</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'safeframe'</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># S3 method for class 'safeframe'</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">i</span>, <span class="va">j</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S3 method for class 'safeframe'</span></span>
<span><span class="va">x</span><span class="op">[[</span><span class="va">i</span>, <span class="va">j</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S3 method for class 'safeframe'</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a <code>safeframe</code> object</p></dd>


<dt id="arg-i">i<a class="anchor" aria-label="anchor" href="#arg-i"></a></dt>
<dd><p>a vector of <code>integer</code> or <code>logical</code> to subset the rows of the
<code>safeframe</code></p></dd>


<dt id="arg-j">j<a class="anchor" aria-label="anchor" href="#arg-j"></a></dt>
<dd><p>a vector of <code>character</code>, <code>integer</code>, or <code>logical</code> to subset the
columns of the <code>safeframe</code></p></dd>


<dt id="arg-drop">drop<a class="anchor" aria-label="anchor" href="#arg-drop"></a></dt>
<dd><p>a <code>logical</code> indicating if, when a single column is selected, the
<code>data.frame</code> class should be dropped to return a simple vector, in which
case the <code>safeframe</code> class is lost as well; defaults to <code>FALSE</code></p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>the replacement to be used for the entries identified in <code>x</code></p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>a literal character string or a <a href="https://rdrr.io/r/base/name.html" class="external-link">name</a> (possibly <a href="https://rdrr.io/r/base/Quotes.html" class="external-link">backtick</a>
    quoted).  For extraction, this is normally (see under
    ‘Environments’) partially matched to the <code><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></code>
    of the object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If no drop is happening, a <code>safeframe</code>. Otherwise an atomic vector.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="lost_labels_action.html">lost_labels_action()</a></code> to set the behaviour to adopt when labels are
lost through subsetting; default is to issue a warning</p></li>
<li><p><code><a href="lost_labels_action.html">get_lost_labels_action()</a></code> to check the current the behaviour</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co">## create a safeframe</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">cars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="make_safeframe.html">make_safeframe</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      speed <span class="op">=</span> <span class="st">"Miles per hour"</span>,</span></span>
<span class="r-in"><span>      dist <span class="op">=</span> <span class="st">"Distance in miles"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>result <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="va">speed</span> <span class="op">&gt;</span> <span class="fl">50</span>, <span class="st">"fast"</span>, <span class="st">"slow"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="set_labels.html">set_labels</a></span><span class="op">(</span>result <span class="op">=</span> <span class="st">"Ticket"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## dangerous removal of a labelled column setting it to NULL issues warning</span></span></span>
<span class="r-in"><span>  <span class="va">x</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span>  <span class="va">x</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">x</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span>  <span class="va">x</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">x</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span>  <span class="va">x</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The following labelled variables are lost:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>  speed - Miles per hour</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The following labelled variables are lost:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>  result - Ticket</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> // safeframe object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13   20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14   24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15   28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16   26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19   46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20   26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21   36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22   60</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23   80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24   20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25   26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26   54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27   32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28   40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29   32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30   40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31   50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32   42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33   56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34   76</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35   84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36   36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37   46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38   68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39   32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40   48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41   52</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42   56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43   64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44   66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45   54</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46   70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47   92</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48   93</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49  120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50   85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> labelled variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  dist - Distance in miles </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chris Hartgerink.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

